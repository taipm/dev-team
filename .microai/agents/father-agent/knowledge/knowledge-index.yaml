# Father Agent Knowledge Index
# Meta-agent cho việc tạo agents và teams

version: "1.3"
agent: father-agent

# Core files - luôn load
core_files:
  - 01-agent-template.md
  - 05-review-checklist.md
  - 06-memory-template.md
  - 10-agent-metadata-spec.md

# Keyword mapping
keyword_mapping:
  # Create workflow
  create:
    files: [01-agent-template.md, 02-command-template.md, 03-knowledge-template.md, 04-index-template.yaml, 06-memory-template.md]
    priority: 1
  new:
    files: [01-agent-template.md, 02-command-template.md, 06-memory-template.md]
    priority: 1
  tạo:
    files: [01-agent-template.md, 02-command-template.md, 03-knowledge-template.md, 06-memory-template.md]
    priority: 1

  # Clone workflow
  clone:
    files: [01-agent-template.md, 02-command-template.md]
    priority: 1
  copy:
    files: [01-agent-template.md]
    priority: 2

  # Review workflow
  review:
    files: [05-review-checklist.md]
    priority: 1
  check:
    files: [05-review-checklist.md]
    priority: 1
  audit:
    files: [05-review-checklist.md]
    priority: 1

  # Template access
  template:
    files: [01-agent-template.md, 02-command-template.md, 03-knowledge-template.md, 04-index-template.yaml, 06-memory-template.md, 07-team-memory-template.md]
    priority: 1

  # Agent components
  agent:
    files: [01-agent-template.md, 06-memory-template.md]
    priority: 1
  command:
    files: [02-command-template.md]
    priority: 1
  knowledge:
    files: [03-knowledge-template.md, 04-index-template.yaml]
    priority: 1
  index:
    files: [04-index-template.yaml, 04a-index-advanced.yaml, 04b-index-team.yaml, 04c-index-smart-detection.yaml]
    priority: 1
  advanced:
    files: [04a-index-advanced.yaml]
    priority: 1
  contextual:
    files: [04a-index-advanced.yaml]
    priority: 1
  conditional:
    files: [04a-index-advanced.yaml]
    priority: 2
  team-index:
    files: [04b-index-team.yaml]
    priority: 1
  mode:
    files: [04b-index-team.yaml]
    priority: 1
  phase:
    files: [04b-index-team.yaml]
    priority: 1
  trigger:
    files: [04b-index-team.yaml]
    priority: 2
  smart:
    files: [04c-index-smart-detection.yaml]
    priority: 1
  detection:
    files: [04c-index-smart-detection.yaml]
    priority: 1
  weighted:
    files: [04c-index-smart-detection.yaml, 08-deep-question-example.md]
    priority: 1
  scoring:
    files: [04c-index-smart-detection.yaml]
    priority: 1
  disambiguation:
    files: [04c-index-smart-detection.yaml, 08-deep-question-example.md]
    priority: 1

  # Metadata specification
  metadata:
    files: [10-agent-metadata-spec.md]
    priority: 1
  frontmatter:
    files: [10-agent-metadata-spec.md, 01-agent-template.md]
    priority: 1
  spec:
    files: [10-agent-metadata-spec.md]
    priority: 1
  fields:
    files: [10-agent-metadata-spec.md]
    priority: 1
  validation:
    files: [10-agent-metadata-spec.md, 05-review-checklist.md]
    priority: 1
  color:
    files: [10-agent-metadata-spec.md]
    priority: 2
  icon:
    files: [10-agent-metadata-spec.md]
    priority: 2
  tools:
    files: [10-agent-metadata-spec.md]
    priority: 2
  model:
    files: [10-agent-metadata-spec.md]
    priority: 2

  # Skills
  skills:
    files: [10-agent-metadata-spec.md, 11-skills-mapping.md]
    priority: 1
  skill:
    files: [11-skills-mapping.md]
    priority: 1
  mapping:
    files: [11-skills-mapping.md]
    priority: 2
  integrate:
    files: [11-skills-mapping.md]
    priority: 2

  # Memory system
  memory:
    files: [06-memory-template.md]
    priority: 1
  persistence:
    files: [06-memory-template.md]
    priority: 1
  context:
    files: [06-memory-template.md]
    priority: 2
  decisions:
    files: [06-memory-template.md]
    priority: 2
  learnings:
    files: [06-memory-template.md]
    priority: 2

  # Team memory
  team:
    files: [07-team-memory-template.md]
    priority: 1
  handoff:
    files: [07-team-memory-template.md]
    priority: 1
  coordination:
    files: [07-team-memory-template.md]
    priority: 1
  shared:
    files: [07-team-memory-template.md]
    priority: 2

  # Examples & Reference
  example:
    files: [08-deep-question-example.md]
    priority: 2
  reference:
    files: [08-deep-question-example.md]
    priority: 2
  deep-question:
    files: [08-deep-question-example.md]
    priority: 1
  weighted:
    files: [08-deep-question-example.md]
    priority: 2
  disambiguation:
    files: [08-deep-question-example.md]
    priority: 2
  framework:
    files: [08-deep-question-example.md]
    priority: 2

  # Document organization
  document:
    files: [09-document-organization.md]
    priority: 1
  output:
    files: [09-document-organization.md]
    priority: 1
  organization:
    files: [09-document-organization.md]
    priority: 1
  docs:
    files: [09-document-organization.md]
    priority: 1
  separation:
    files: [09-document-organization.md]
    priority: 2
  gitignore:
    files: [09-document-organization.md]
    priority: 2
  migration:
    files: [09-document-organization.md]
    priority: 2

  # ═══════════════════════════════════════════════════════════════
  # TEAM CREATION KEYWORDS
  # ═══════════════════════════════════════════════════════════════

  # Create team workflow
  create-team:
    files: [12-team-workflow-template.md, 13-team-agent-template.md, 14-team-step-template.md, 15-team-command-template.md]
    priority: 1
  team:
    files: [12-team-workflow-template.md, 07-team-memory-template.md]
    priority: 1
  tạo-team:
    files: [12-team-workflow-template.md, 13-team-agent-template.md, 14-team-step-template.md]
    priority: 1

  # Team components
  team-workflow:
    files: [12-team-workflow-template.md]
    priority: 1
  team-agent:
    files: [13-team-agent-template.md]
    priority: 1
  team-step:
    files: [14-team-step-template.md]
    priority: 1
  team-command:
    files: [15-team-command-template.md]
    priority: 1
  session:
    files: [12-team-workflow-template.md, 14-team-step-template.md]
    priority: 1

  # Team types
  dialogue:
    files: [12-team-workflow-template.md, 13-team-agent-template.md]
    priority: 1
  pipeline:
    files: [12-team-workflow-template.md, 14-team-step-template.md]
    priority: 1
  multi-agent:
    files: [12-team-workflow-template.md, 13-team-agent-template.md, 07-team-memory-template.md]
    priority: 1

  # Dialogue features
  turn-based:
    files: [14-team-step-template.md]
    priority: 1
  consensus:
    files: [14-team-step-template.md]
    priority: 2
  observer:
    files: [12-team-workflow-template.md]
    priority: 2

# File descriptions
files:
  01-agent-template.md:
    title: "Agent Definition Template"
    description: "Complete template for agent.md với frontmatter, activation, content sections"
    lines: ~200

  02-command-template.md:
    title: "Command Entry Template"
    description: "Template for .claude/commands/{name}.md"
    lines: ~120

  03-knowledge-template.md:
    title: "Knowledge File Template"
    description: "Template for individual knowledge files"
    lines: ~180

  04-index-template.yaml:
    title: "Simple Knowledge Index Template"
    description: "Template cơ bản cho keyword→file mapping đơn giản"
    lines: ~120

  04a-index-advanced.yaml:
    title: "Advanced Knowledge Index Template"
    description: "Template với contextual loading, load_when conditions, priority levels"
    lines: ~150

  04b-index-team.yaml:
    title: "Team Knowledge Index Template"
    description: "Template cho team agents với mode_triggers, phase_triggers, agent_knowledge, conflict detection"
    lines: ~200

  04c-index-smart-detection.yaml:
    title: "Smart Detection Knowledge Index Template"
    description: "Template với weighted scoring, topic_detection_v2, disambiguation, framework selection"
    lines: ~250

  05-review-checklist.md:
    title: "Review Checklist"
    description: "Comprehensive checklist for reviewing agents including memory system"
    lines: ~250

  06-memory-template.md:
    title: "Memory System Template"
    description: "Templates for agent memory: context, decisions, learnings, session summaries"
    lines: ~300

  07-team-memory-template.md:
    title: "Team Memory Template"
    description: "Templates for team shared memory: handoffs, blockers, dispatch-log, team coordination"
    lines: ~350

  08-deep-question-example.md:
    title: "Deep Question Agent Example"
    description: "Reference implementation demonstrating weighted scoring, disambiguation, framework transitions"
    lines: ~200

  09-document-organization.md:
    title: "Document Organization Best Practices"
    description: "Convention for separating agent internals from user-facing outputs. Includes team-specific guidelines, migration checklist, and gitignore recommendations."
    lines: ~300

  10-agent-metadata-spec.md:
    title: "Agent Metadata Specification v1.1"
    description: "Quy chuẩn thống nhất cho metadata (frontmatter) của agents. Bao gồm required fields, style fields, optional fields (including skills), validation checklist, và migration guide."
    lines: ~500

  11-skills-mapping.md:
    title: "Skills Mapping Guide"
    description: "Hướng dẫn chọn skills phù hợp cho từng loại agent. Bao gồm skill matrix, mapping by domain, và best practices."
    lines: ~300

  # Team templates (12-15)
  12-team-workflow-template.md:
    title: "Team Workflow Template"
    description: "Template cho workflow.md của team. Bao gồm overview, members, modes, flow diagram, observer controls."
    lines: ~200

  13-team-agent-template.md:
    title: "Team Agent Template"
    description: "Template cho agents trong team. Đơn giản hóa so với standalone agent, focus vào dialogue behavior."
    lines: ~150

  14-team-step-template.md:
    title: "Team Step Templates"
    description: "Templates cho 5 steps chuẩn: init, presentation, dialogue loop, synthesis, close."
    lines: ~250

  15-team-command-template.md:
    title: "Team Command Template"
    description: "Template cho slash command invoke team session. Bao gồm load sequence và usage examples."
    lines: ~100
