\documentclass[12pt,a4paper]{article}
\usepackage{tikz}
\usepackage{fontspec}
\usepackage[vietnamese]{babel}
\setmainfont{Times New Roman}
\usepackage{geometry}
\geometry{margin=2cm}
\pagestyle{empty}

\begin{document}

\begin{center}
{\Large\bfseries HÌNH VẼ CHÍNH XÁC - CÂU 5}\\[0.5em]
{\normalsize Verified Geometry System}
\end{center}

\begin{figure}[htbp]
\centering
\begin{tikzpicture}[scale=1.2]
  % Triangle with orthocenter - VERIFIED

  % Circumcircle
  \draw[blue!70, thick] (1.250000, 0.978947) circle (2.919047);
  % Nine-point circle
  \draw[purple!70, thick, dashed] (0.875000, 1.410526) circle (1.459524);
  % Triangle ABC
  \draw[red!70!black, very thick] (0.500000, 3.800000) -- (-1.500000, 0.000000) -- (4.000000, 0.000000) -- cycle;
  % Altitudes
  \draw[cyan!70!black, thick] (0.500000, 3.800000) -- (0.500000, 0.000000);
  \draw[cyan!70!black, thick] (-1.500000, 0.000000) -- (1.475646, 2.740727);
  \draw[cyan!70!black, thick] (4.000000, 0.000000) -- (-0.306941, 2.266811);
  \draw[cyan!70!black, thick, dashed] (0.500000, 0.000000) -- (0.500000, -1.842105);
  % Orthic triangle DEF
  \draw[green!50!black, thick] (0.500000, 0.000000) -- (1.475646, 2.740727);
  \draw[green!50!black, thick] (1.475646, 2.740727) -- (-0.306941, 2.266811);
  \draw[green!50!black, thick] (-0.306941, 2.266811) -- (0.500000, 0.000000);
  % Right angle marks
  \draw[thin] (0.500000, 0.150000) -- (0.650000, 0.150000) -- (0.650000, 0.000000);
  \draw[thin] (1.365315, 2.639106) -- (1.263693, 2.749437) -- (1.374025, 2.851059);
  \draw[thin] (-0.174204, 2.196949) -- (-0.244066, 2.064212) -- (-0.376803, 2.134074);
  % Points
  \node[fill=red!70!black, circle, inner sep=2pt, label=above:$A$] at (0.500000, 3.800000) {};
  \node[fill=red!70!black, circle, inner sep=2pt, label=below left:$B$] at (-1.500000, 0.000000) {};
  \node[fill=red!70!black, circle, inner sep=2pt, label=below right:$C$] at (4.000000, 0.000000) {};
  \node[fill=orange, circle, inner sep=1.5pt, label=below:$D$] at (0.500000, 0.000000) {};
  \node[fill=orange, circle, inner sep=1.5pt, label=right:$E$] at (1.475646, 2.740727) {};
  \node[fill=orange, circle, inner sep=1.5pt, label=left:$F$] at (-0.306941, 2.266811) {};
  \node[fill=blue!70, circle, inner sep=1.5pt, label=above right:$H$] at (0.500000, 1.842105) {};
  \node[fill=black, circle, inner sep=1.5pt, label=below:$I$] at (1.250000, 0.000000) {};
  \node[fill=blue!70, circle, inner sep=1.5pt, label=below:$K$] at (0.500000, -1.842105) {};
  \node[draw=blue!70, fill=white, circle, inner sep=1.5pt, label=right:$O$] at (1.250000, 0.978947) {};
  \node[draw=purple!70, fill=white, circle, inner sep=1pt, label=left:$N$] at (0.875000, 1.410526) {};
\end{tikzpicture}
\caption{Tam giác $ABC$ với trực tâm $H$, đường tròn ngoại tiếp $(O)$, đường tròn 9 điểm}
\end{figure}

\section*{Kiểm chứng tọa độ}

\begin{tabular}{|l|l|l|}
\hline
\textbf{Điểm} & \textbf{Tọa độ} & \textbf{Kiểm tra} \\
\hline
$A$ & $(0.5000, 3.8000)$ & Định nghĩa \\
$B$ & $(-1.5000, 0.0000)$ & Định nghĩa \\
$C$ & $(4.0000, 0.0000)$ & Định nghĩa \\
$O$ & $(1.2500, 0.9789)$ & $|OA|=|OB|=|OC|=R$ \\
$H$ & $(0.5000, 1.8421)$ & Giao của 3 đường cao \\
$D$ & $(0.5000, 0.0000)$ & $D \in BC$, $AD \perp BC$ \\
$E$ & $(1.4756, 2.7407)$ & $E \in AC$, $BE \perp AC$ \\
$F$ & $(-0.3069, 2.2668)$ & $F \in AB$, $CF \perp AB$ \\
$I$ & $(1.2500, 0.0000)$ & Trung điểm $BC$ \\
$K$ & $(0.5000, -1.8421)$ & $|OK|=2.9190=R$ \\
$N$ & $(0.8750, 1.4105)$ & Trung điểm $OH$ \\
\hline
\end{tabular}

\vspace{1em}

\textbf{Bán kính:}
\begin{itemize}
    \item Đường tròn ngoại tiếp: $R = 2.919047$
    \item Đường tròn 9 điểm: $r = 1.459524 = R/2$
\end{itemize}

\end{document}
