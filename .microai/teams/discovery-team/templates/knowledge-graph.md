# Knowledge Graph

**Project:** {{project_name}}
**Date:** {{date}}
**Session:** {{session_id}}

---

## Overview

| Metric | Count |
|--------|-------|
| Nodes (Components) | {{nodes_count}} |
| Edges (Relationships) | {{edges_count}} |
| Clusters | {{clusters_count}} |

---

## Visual Graph

```mermaid
graph TD
    %% Styling
    classDef service fill:#e1f5fe,stroke:#01579b
    classDef repository fill:#e8f5e9,stroke:#1b5e20
    classDef handler fill:#fff3e0,stroke:#e65100
    classDef model fill:#f3e5f5,stroke:#4a148c
    classDef external fill:#fce4ec,stroke:#880e4f
    classDef util fill:#eceff1,stroke:#37474f

{{#each subgraphs}}
    subgraph {{name}}
{{#each nodes}}
        {{id}}[{{label}}]
{{/each}}
    end

{{/each}}

    %% Relationships
{{#each edges}}
    {{from}} {{arrow}} {{to}}
{{/each}}

    %% Apply styles
{{#each nodes}}
    class {{id}} {{class}}
{{/each}}
```

---

## Nodes (Components)

### By Type

{{#each node_types}}
#### {{type}} ({{count}})

| ID | Name | Location | Description |
|----|------|----------|-------------|
{{#each nodes}}
| {{id}} | {{name}} | {{location}} | {{description}} |
{{/each}}

{{/each}}

---

## Edges (Relationships)

### By Type

{{#each edge_types}}
#### {{type}} ({{count}})

| From | To | Evidence |
|------|-----|----------|
{{#each edges}}
| {{from}} | {{to}} | {{evidence}} |
{{/each}}

{{/each}}

---

## Clusters

{{#each clusters}}
### {{name}}

**Components:**
{{#each components}}
- {{name}} ({{type}})
{{/each}}

**Cohesion:** {{cohesion}}
**Coupling:** {{coupling}}

---
{{/each}}

---

## Dependency Analysis

### Inbound Dependencies (Most Used)

| Component | Inbound | Used By |
|-----------|---------|---------|
{{#each top_inbound}}
| {{name}} | {{count}} | {{used_by}} |
{{/each}}

### Outbound Dependencies (Most Dependent)

| Component | Outbound | Depends On |
|-----------|----------|------------|
{{#each top_outbound}}
| {{name}} | {{count}} | {{depends_on}} |
{{/each}}

### Isolated Components

{{#each isolated}}
- {{name}} (no connections found)
{{/each}}

---

## Export Formats

### JSON

```json
{
  "nodes": [
{{#each nodes}}
    {"id": "{{id}}", "label": "{{label}}", "type": "{{type}}", "metadata": {{metadata}}}{{#unless @last}},{{/unless}}
{{/each}}
  ],
  "edges": [
{{#each edges}}
    {"from": "{{from}}", "to": "{{to}}", "type": "{{type}}", "strength": "{{strength}}"}{{#unless @last}},{{/unless}}
{{/each}}
  ]
}
```

### DOT (Graphviz)

```dot
digraph G {
    rankdir=TB;
    node [shape=box, style=filled];

{{#each nodes}}
    {{id}} [label="{{label}}", fillcolor="{{color}}"];
{{/each}}

{{#each edges}}
    {{from}} -> {{to}} [label="{{type}}"];
{{/each}}
}
```

---

*Knowledge Graph generated by Discovery Team*
*{{generated_at}}*
