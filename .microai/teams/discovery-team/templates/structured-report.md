# Codebase Discovery Report

**Project:** {{project_name}}
**Date:** {{date}}
**Session ID:** {{session_id}}
**Scope:** {{scope}}
**Depth:** {{depth}}

---

## Executive Summary

{{executive_summary}}

**Key Metrics:**
| Metric | Value |
|--------|-------|
| Questions Answered | {{questions_answered}}/{{questions_total}} |
| Facts Extracted | {{facts_count}} |
| Patterns Identified | {{patterns_count}} |
| Relationships Mapped | {{relationships_count}} |
| Gaps Remaining | {{gaps_count}} |

---

## Codebase Overview

### Architecture

{{architecture_description}}

**Architecture Diagram:**
```mermaid
{{architecture_diagram}}
```

### Key Components

| Component | Type | Location | Purpose |
|-----------|------|----------|---------|
{{#each components}}
| {{name}} | {{type}} | {{location}} | {{purpose}} |
{{/each}}

### Technology Stack

| Category | Technology | Evidence |
|----------|------------|----------|
{{#each technologies}}
| {{category}} | {{name}} | {{evidence}} |
{{/each}}

---

## Detailed Findings

{{#each categories}}
### {{icon}} {{name}}

{{#each findings}}
#### {{question}}

**Answer:**
{{answer}}

**Evidence:**
{{#each evidence}}
- `{{file}}:{{lines}}`: {{snippet_summary}}
{{/each}}

**Confidence:** {{confidence}}

---
{{/each}}
{{/each}}

---

## Patterns Identified

{{#each patterns}}
### {{name}}

**Type:** {{type}}
**Occurrences:** {{occurrences}}
**Confidence:** {{confidence}}

**Description:**
{{description}}

**Evidence:**
| Location | Code |
|----------|------|
{{#each evidence}}
| {{file}}:{{lines}} | `{{snippet}}` |
{{/each}}

**Implications:**
{{implications}}

---
{{/each}}

---

## Relationship Map

### Visual Diagram

```mermaid
{{relationship_diagram}}
```

### Relationship Table

| From | To | Type | Strength | Evidence |
|------|-----|------|----------|----------|
{{#each relationships}}
| {{from}} | {{to}} | {{type}} | {{strength}} | {{evidence}} |
{{/each}}

---

## Gaps & Open Questions

### High Priority

{{#each gaps_high}}
- **{{description}}**
  - Reason: {{reason}}
  - Impact: {{impact}}
  - Recommended: {{recommendation}}
{{/each}}

### Medium Priority

{{#each gaps_medium}}
- {{description}}
  - Reason: {{reason}}
{{/each}}

### Low Priority

{{#each gaps_low}}
- {{description}}
{{/each}}

---

## Recommendations

### Immediate Actions

{{#each recommendations_immediate}}
1. **{{title}}**
   {{description}}
{{/each}}

### Future Exploration

{{#each recommendations_future}}
- {{description}}
{{/each}}

---

## Appendix

### A. Evidence Reference

| Fact ID | File | Lines | Content |
|---------|------|-------|---------|
{{#each facts}}
| {{id}} | {{file}} | {{lines}} | {{content_summary}} |
{{/each}}

### B. Files Read

| File | Size | Relevance |
|------|------|-----------|
{{#each files_read}}
| {{path}} | {{size}} | {{relevance}} |
{{/each}}

### C. Session Metadata

```yaml
session:
  id: {{session_id}}
  started: {{started_at}}
  completed: {{completed_at}}
  duration: {{duration}}
  scope: {{scope}}
  depth: {{depth}}
  iterations: {{iterations}}

questions:
  total: {{questions_total}}
  answered: {{questions_answered}}
  derived: {{questions_derived}}

facts:
  total: {{facts_count}}
  by_type:
    structure: {{facts_structure}}
    behavior: {{facts_behavior}}
    relationship: {{facts_relationship}}
    pattern: {{facts_pattern}}

quality:
  high_confidence: {{confidence_high}}
  medium_confidence: {{confidence_medium}}
```

---

*Report generated by Discovery Team v1.0*
*{{generated_at}}*
