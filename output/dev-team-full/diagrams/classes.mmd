%% Class Diagram - Agent and Team Schema
%% Generated by Diagram Team - Session DTT-2026-01-04-DIAGRAM-002

classDiagram
    class Agent {
        +String id
        +String name
        +String title
        +String model
        +String language
        +String icon
        +String color
        +String version
        +String[] tags
        +Instruction instruction
        +Persona persona
        +Reasoning reasoning
        +MenuItem[] menu
        +Activation activation
        +Memory memory
        +Capabilities capabilities
    }

    class Instruction {
        +String system
        +String[] must
        +String[] must_not
    }

    class Persona {
        +String[] style
        +String[] principles
    }

    class Capabilities {
        +String[] tools
        +String[] skills
        +Knowledge knowledge
    }

    class Team {
        +String name
        +String description
        +String model
        +String language
        +Agent[] agents
        +Workflow workflow
        +Checkpoint checkpoint
        +Communication communication
        +Kanban kanban
        +Parallel parallel
    }

    class Workflow {
        +String name
        +Phase[] phases
        +Step[] steps
        +ParallelConfig parallel_config
    }

    class Phase {
        +String id
        +String name
        +Step[] steps
    }

    class Step {
        +String id
        +String action
        +String output
        +Object validation
    }

    class ParallelConfig {
        +Boolean enabled
        +Integer max_workers
        +ParallelGroup[] groups
    }

    class Checkpoint {
        +Boolean enabled
        +String storage_path
        +Boolean auto_checkpoint
    }

    class Communication {
        +Boolean enabled
        +String bus_path
        +String[] topics
    }

    class Session {
        +String id
        +String team_id
        +String status
        +Progress progress
        +SessionCheckpoint[] checkpoints
    }

    class Knowledge {
        +String index
        +String base_path
        +SharedKnowledge shared
    }

    Agent *-- Instruction
    Agent *-- Persona
    Agent *-- Capabilities
    Capabilities *-- Knowledge

    Team *-- Agent
    Team *-- Workflow
    Team *-- Checkpoint
    Team *-- Communication

    Workflow *-- Phase
    Workflow *-- ParallelConfig
    Phase *-- Step

    Team --> Session
