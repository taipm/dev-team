%% Architecture Diagram - MicroAI Dev-Team Framework (C4 Context)
%% Generated by Diagram Team - Session DTT-2026-01-04-DIAGRAM-002

graph TB
    subgraph Users["Users"]
        Developer["Developer<br/>(Agent Creator/User)"]
        TeamLead["Team Lead<br/>(Orchestrator)"]
        SysAdmin["System Admin<br/>(Infrastructure)"]
    end

    subgraph MicroAI["MicroAI Multi-Agent Framework"]
        subgraph MetaOrch["Meta-Orchestration Layer"]
            Father["Father Agent<br/>(Agent Creator)"]
        end

        subgraph TeamLayer["Team Layer (20 Teams)"]
            DeepThinking["Deep Thinking Team<br/>(20 specialized agents)"]
            GoTeam["Go Team<br/>(Go Development)"]
            DiagramTeam["Diagram Team<br/>(Architecture)"]
            DevTeams["Other Teams<br/>(Dev-QA, Dev-Architect,<br/>Python, etc.)"]
        end

        subgraph DomainLayer["Domain Layer (28 Agents)"]
            CoreAgents["Core Agents<br/>(GitHub, NPM, Ollama)"]
            SpecAgents["Specialized Agents<br/>(First-Principles, Deep-Question,<br/>Root-Cause, Skill-Creator)"]
            TechAgents["Tech Agents<br/>(Go-Dev, Go-Review,<br/>Go-Refactor, Code-Review)"]
        end

        subgraph KnowledgeLayer["Knowledge Layer"]
            AgentTemplates["Agent Templates<br/>(16 files)"]
            ThinkingFrameworks["7 Thinking Frameworks<br/>(Socratic, First-Principles,<br/>Mental Models, etc.)"]
            SkillsRegistry["Skills Registry<br/>(Communication, Design,<br/>Development, Document, Media)"]
            DomainKnowledge["Domain Knowledge<br/>(Go patterns, Architecture,<br/>Best Practices)"]
        end

        subgraph ExecutionLayer["Execution Layer"]
            Claude["Claude API Client<br/>(opus, haiku)"]
            FileSystem["File System<br/>(Agents, Teams, Knowledge)"]
            TaskRunner["Task Runner<br/>(Bash, Automation)"]
        end
    end

    subgraph External["External Systems"]
        ClaudeAPI["Claude API<br/>(LLM Provider)"]
        GitHubAPI["GitHub API<br/>(Source Control,<br/>Issues, PRs)"]
        Ollama["Ollama<br/>(Local LLM<br/>qwen3:1.7b)"]
        NPM["NPM Registry<br/>(Package Manager)"]
        FileSystemExt["File System<br/>(Project Files,<br/>Artifacts)"]
    end

    Developer -->|Creates/Manages| Father
    TeamLead -->|Orchestrates| DeepThinking
    SysAdmin -->|Manages| MicroAI

    Father -->|Creates/Manages| TeamLayer
    Father -->|Creates/Manages| DomainLayer

    DeepThinking -->|Uses| ThinkingFrameworks
    GoTeam -->|Uses| DomainKnowledge
    DiagramTeam -->|Uses| AgentTemplates
    DevTeams -->|Uses| SkillsRegistry

    TeamLayer -->|Activates| DomainLayer
    DomainLayer -->|References| KnowledgeLayer

    CoreAgents -->|Uses| Claude
    SpecAgents -->|Uses| Claude
    TechAgents -->|Uses| Claude

    Claude -->|Executes via| ExecutionLayer
    ExecutionLayer -->|Calls| ClaudeAPI
    ExecutionLayer -->|Integrates| GitHubAPI
    ExecutionLayer -->|Queries| Ollama
    ExecutionLayer -->|Manages| NPM
    ExecutionLayer -->|Reads/Writes| FileSystem

    FileSystem -->|Persists| FileSystemExt
    GitHubAPI -->|Source Control| FileSystemExt
