%% UI/UX State Diagram - CLI Interaction States
%% Generated by Diagram Team - Session DTT-2026-01-04-DIAGRAM-001

stateDiagram-v2
    [*] --> ClaudeCodePrompt: User opens terminal

    ClaudeCodePrompt: Claude Code Prompt
    ClaudeCodePrompt: Ready for user input
    ClaudeCodePrompt: Shows cursor waiting

    CommandInvoked: Command Invoked
    CommandInvoked: /microai:xxx executed
    CommandInvoked: Loading skill definition

    TeamActivation: Team Activation
    TeamActivation: Banner displayed
    TeamActivation: Team members listed
    TeamActivation: Session ID generated

    ExplorationPhase: Exploration Phase
    ExplorationPhase: Scanning codebase
    ExplorationPhase: Detecting tech stack
    ExplorationPhase: Mapping components

    GenerationPhase: Generation Phase
    GenerationPhase: Parallel agent execution
    GenerationPhase: Progress indicators shown
    GenerationPhase: [=====>    ] 60%

    VerificationPhase: Verification Phase
    VerificationPhase: Cross-checking outputs
    VerificationPhase: Validating relationships
    VerificationPhase: Quality gates applied

    ResultsDisplayed: Results Displayed
    ResultsDisplayed: Summary shown
    ResultsDisplayed: Output files listed
    ResultsDisplayed: Statistics rendered

    SessionComplete: Session Complete
    SessionComplete: Auto-save triggered
    SessionComplete: Index updated
    SessionComplete: Ready for next command

    ClaudeCodePrompt --> CommandInvoked: User types /microai:xxx
    CommandInvoked --> TeamActivation: Skill loaded successfully
    CommandInvoked --> ClaudeCodePrompt: Invalid command

    TeamActivation --> ExplorationPhase: *start or auto-trigger
    TeamActivation --> ClaudeCodePrompt: *abort

    ExplorationPhase --> GenerationPhase: exploration_complete signal
    ExplorationPhase --> ExplorationPhase: *pause / *resume

    GenerationPhase --> VerificationPhase: all_diagrams_ready sync
    GenerationPhase --> GenerationPhase: Agent progress updates

    VerificationPhase --> ResultsDisplayed: verification_complete signal
    VerificationPhase --> GenerationPhase: *retry on failure

    ResultsDisplayed --> SessionComplete: User acknowledges
    ResultsDisplayed --> ExplorationPhase: *restart

    SessionComplete --> ClaudeCodePrompt: Session archived
    SessionComplete --> [*]: User exits

    state ExplorationPhase {
        [*] --> Scanning
        Scanning --> Detecting
        Detecting --> Mapping
        Mapping --> ReportGeneration
        ReportGeneration --> [*]
    }

    state GenerationPhase {
        [*] --> ParallelExecution
        ParallelExecution --> Agent1: Architecture
        ParallelExecution --> Agent2: Sequence
        ParallelExecution --> Agent3: Class
        ParallelExecution --> Agent4: ERD
        ParallelExecution --> Agent5: Directory
        ParallelExecution --> Agent6: Logic
        ParallelExecution --> Agent7: UI/UX
        Agent1 --> SyncPoint
        Agent2 --> SyncPoint
        Agent3 --> SyncPoint
        Agent4 --> SyncPoint
        Agent5 --> SyncPoint
        Agent6 --> SyncPoint
        Agent7 --> SyncPoint
        SyncPoint --> [*]
    }

    state VerificationPhase {
        [*] --> EntityCheck
        EntityCheck --> RelationshipCheck
        RelationshipCheck --> CompletenessCheck
        CompletenessCheck --> ReportGeneration2
        ReportGeneration2 --> [*]
    }
