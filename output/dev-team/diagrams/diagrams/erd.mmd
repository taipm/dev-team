%% ERD Diagram - Conceptual Entity Relationships
%% Generated by Diagram Team - Session DTT-2026-01-04-DIAGRAM-001

erDiagram
    AGENT {
        string id PK
        string name
        string version
        string model
        string[] tools
        string[] skills
        string description
        string category
    }

    TEAM {
        string id PK
        string name
        string description
        string[] agent_ids FK
        string workflow_id FK
    }

    SKILL {
        string id PK
        string name
        string category
        string[] files
        string description
        string version
    }

    KNOWLEDGE {
        string id PK
        string domain
        string[] files
        string format
        string agent_id FK
    }

    WORKFLOW {
        string id PK
        string name
        string[] steps
        json parallel_config
        string execution_mode
    }

    SESSION {
        string id PK
        string team_id FK
        string state
        json checkpoints
        datetime created_at
        datetime updated_at
    }

    STEP {
        string id PK
        string workflow_id FK
        string name
        int order
        string type
        json config
    }

    CHECKPOINT {
        string id PK
        string session_id FK
        string step_id FK
        json data
        datetime timestamp
    }

    TEAM ||--o{ AGENT : "contains"
    TEAM ||--|| WORKFLOW : "follows"
    AGENT ||--o{ SKILL : "uses"
    AGENT ||--o{ KNOWLEDGE : "has"
    WORKFLOW ||--o{ STEP : "defines"
    SESSION }o--|| TEAM : "runs"
    SESSION ||--o{ CHECKPOINT : "tracks"
    CHECKPOINT }o--|| STEP : "records"
