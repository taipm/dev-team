# Step 04: Output Synthesis

## Purpose
Generate output documents based on session mode and get sign-off from all agents.

## Output by Mode

| Mode | Primary Output | Secondary |
|------|----------------|-----------|
| solve | Algorithm Design Document | Complexity Analysis |
| review | Code Review Report | Optimized Code |
| interview | Interview Assessment | Feedback Notes |

## Synthesis Process

### Step 4.1: Gather Key Points

```yaml
synthesis_data:
  problem:
    title: "{title}"
    classification: "{pattern}"
    constraints: [...]

  approach:
    primary: "{algorithm}"
    alternatives: [...]
    complexity:
      time: "O({...})"
      space: "O({...})"

  implementation:
    code: "{final code}"
    language: "{language}"

  validation:
    correctness: {pass/fail}
    edge_cases: [...]
    issues_found: [...]
    issues_resolved: [...]

  verdict: "{pass/needs_revision}"
```

### Step 4.2: Generate Document

Select template based on mode:
- solve â†’ `algorithm-design-template.md`
- review â†’ `code-review-template.md`
- interview â†’ `interview-assessment-template.md`

### Step 4.3: Agent Review

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    OUTPUT REVIEW                               â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£

[Generated document content displayed here]

â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“‹ Document generated. Agents, please review:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

### Step 4.4: Sign-off Collection

Each agent provides sign-off:

```markdown
## Sign-off

| Agent | Status | Notes |
|-------|--------|-------|
| Developer ğŸ‘¨â€ğŸ’» | âœ… Approved | Implementation verified |
| Algo-Master ğŸ§™ | âœ… Approved | Complexity optimal |
| Code Reviewer ğŸ” | âœ… Approved | All edge cases handled |
```

Sign-off options:
- âœ… **Approved**: No issues
- âš ï¸ **Approved with notes**: Minor concerns
- âŒ **Request changes**: Needs revision

## Output Templates

### Solve Mode Output

```markdown
# Algorithm Design: {Problem Title}

## Session Info
- **Session ID**: {id}
- **Date**: {date}
- **Mode**: Problem Solving
- **Difficulty**: {difficulty}

## Problem Statement
{statement}

### Constraints
{constraints}

### Examples
{examples}

## Analysis

### Problem Classification
- **Category**: {DP/Graph/Greedy/etc.}
- **Pattern**: {specific pattern}
- **Similar Problems**: {list}

### Key Insight
{insight}

## Algorithm Design

### Approach: {name}

**Strategy**: {description}

**Time Complexity**: O({complexity})
**Space Complexity**: O({complexity})

**Pseudocode**:
```
{pseudocode}
```

## Implementation

```{language}
{code}
```

## Validation

### Edge Cases
| Case | Input | Expected | Actual | Status |
|------|-------|----------|--------|--------|
{edge_cases}

## Sign-off
{sign_off_table}

---
Generated by Dev-Algo Team Simulation
```

### Review Mode Output

```markdown
# Code Review Report

## Session Info
- **Session ID**: {id}
- **Reviewed Code**: {identifier}
- **Date**: {date}

## Correctness Analysis

### Checklist
{checklist}

### Issues Found
{issues_table}

## Complexity Assessment

### Time Complexity
- **Claimed**: O({claimed})
- **Actual**: O({actual})
- **Status**: {match/mismatch}

## Optimization Opportunities
{optimizations}

## Verdict
**Overall**: {Pass/Needs Revision/Reject}

## Sign-off
{sign_off_table}

---
Generated by Dev-Algo Team Simulation
```

### Interview Mode Output

```markdown
# Interview Assessment

## Session Info
- **Session ID**: {id}
- **Candidate**: Developer
- **Interviewer**: Algo-Master
- **Date**: {date}

## Problem Given
{problem}

## Assessment

| Criteria | Score (1-5) | Notes |
|----------|-------------|-------|
| Problem Understanding | {score} | {notes} |
| Approach Selection | {score} | {notes} |
| Code Quality | {score} | {notes} |
| Edge Case Handling | {score} | {notes} |
| Communication | {score} | {notes} |
| **Overall** | {avg} | |

## Detailed Feedback

### Strengths
{strengths}

### Areas for Improvement
{improvements}

## Verdict
**Result**: {Strong Hire / Hire / Borderline / No Hire}

## Sign-off
{sign_off_table}

---
Generated by Dev-Algo Team Simulation
```

## Output Location

Save to:
```
.microai/docs/teams/dev-algo/logs/{date}-{mode}-{topic_slug}.md
```

Example:
```
.microai/docs/teams/dev-algo/logs/2024-12-31-solve-two-sum.md
```

## Transition to Step 5

After document saved:
- Display save confirmation
- Transition to Step 5: Session Close
